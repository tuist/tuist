---
{
  "title": "Principles",
  "titleTemplate": ":title · Contributors · Tuist",
  "description": "This document describes the principles that guide the development of Tuist."
}
---
# المبادئ {#principles}

تصف هذه الصفحة المبادئ الأساسية لتصميم وتطوير Tuist. تتطور هذه المبادئ مع
المشروع وتهدف إلى ضمان نمو مستدام يتوافق مع أساس المشروع.

## الالتزام بالقواعد الافتراضية {#default-to-conventions}

أحد أسباب وجود Tuist هو أن Xcode ضعيف في القواعد، مما يؤدي إلى مشاريع معقدة يصعب
توسيعها وصيانتها. لهذا السبب، يتبع Tuist نهجًا مختلفًا من خلال اعتماد قواعد
بسيطة ومصممة بعناية. **يمكن للمطورين اختيار عدم اتباع القواعد، ولكن هذا قرار
واعٍ لا يبدو طبيعيًا.**

على سبيل المثال، هناك اتفاقية لتعريف التبعيات بين الأهداف باستخدام الواجهة
العامة المتوفرة. من خلال القيام بذلك، يضمن Tuist إنشاء المشاريع بالتكوينات
الصحيحة لكي يعمل الربط. يمكن للمطورين تعريف التبعيات من خلال إعدادات البناء،
ولكنهم سيفعلون ذلك بشكل ضمني وبالتالي يكسرون ميزات Tuist مثل `tuist graph` أو
`tuist cache` التي تعتمد على اتباع بعض الاتفاقيات.

السبب الذي يجعلنا نلجأ إلى الاصطلاحات هو أنه كلما زاد عدد القرارات التي يمكننا
اتخاذها نيابةً عن المطورين، زاد تركيزهم على صياغة ميزات تطبيقاتهم. عندما لا نترك
لنا أي اصطلاحات كما هو الحال في العديد من المشاريع، سنضطر إلى اتخاذ قرارات لن
تكون متسقة مع القرارات الأخرى، ونتيجة لذلك، سيكون هناك تعقيد غير مقصود يصعب
إدارته.

## البيانات هي مصدر الحقيقة {#manifests-are-the-source-of-truth}

وجود العديد من طبقات التكوينات والعقود بينها يؤدي إلى إعداد مشروع يصعب فهمه
وصيانته. فكر للحظة في مشروع عادي. يوجد تعريف المشروع في الدلائل `.xcodeproj` ، و
CLI في البرامج النصية (على سبيل المثال `Fastfiles`) ، ومنطق CI في خطوط الأنابيب.
هذه ثلاث طبقات مع عقود بينها نحتاج إلى صيانتها. *كم مرة واجهت موقفًا قمت فيه
بتغيير شيء ما في مشاريعك، ثم أدركت بعد أسبوع أن البرامج النصية للإصدار معطلة؟*

يمكننا تبسيط ذلك من خلال وجود مصدر واحد للحقيقة، وهو ملفات البيان. تزود هذه
الملفات Tuist بالمعلومات التي تحتاجها لإنشاء مشاريع Xcode التي يمكن للمطورين
استخدامها لتحرير ملفاتهم. علاوة على ذلك، تسمح بوجود أوامر قياسية لإنشاء مشاريع
من بيئة محلية أو بيئة CI.

**يجب أن تتحمل Tuist مسؤولية التعقيد وتقدم واجهة بسيطة وآمنة وممتعة لوصف
مشاريعها بأكبر قدر ممكن من الوضوح.**

## اجعل ما هو ضمني صريحًا {#make-the-implicit-explicit}

يدعم Xcode التكوينات الضمنية. ومن الأمثلة الجيدة على ذلك استنتاج التبعيات
المحددة ضمناً. في حين أن الضمانة مناسبة للمشاريع الصغيرة، حيث تكون التكوينات
بسيطة، إلا أنها قد تتسبب في بطء أو سلوكيات غريبة مع زيادة حجم المشاريع.

يجب أن يوفر Tuist واجهات برمجة تطبيقات واضحة للسلوكيات الضمنية في Xcode. كما يجب
أن يدعم تعريف الضمنية في Xcode، ولكن بطريقة تشجع المطورين على اختيار النهج
الصريح. إن دعم الضمنية والتعقيدات في Xcode يسهل اعتماد Tuist، وبعد ذلك يمكن
للفرق أن تأخذ بعض الوقت للتخلص من الضمنية.

يعد تعريف التبعيات مثالًا جيدًا على ذلك. بينما يمكن للمطورين تعريف التبعيات من
خلال إعدادات البناء والمراحل، يوفر Tuist واجهة برمجة تطبيقات رائعة تشجع على
اعتمادها.

**تصميم واجهة برمجة التطبيقات (API) لتكون واضحة يسمح لـ Tuist بإجراء بعض
الفحوصات والتحسينات على المشاريع التي لم تكن لتكون ممكنة لولا ذلك.** علاوة على
ذلك، فإنه يتيح ميزات مثل `tuist graph` ، الذي يقوم بتصدير تمثيل لمخطط التبعية،
أو `tuist cache` ، الذي يقوم بتخزين جميع الأهداف كملفات ثنائية.

:::: إكرامية
<!-- -->
يجب أن نتعامل مع كل طلب لنقل ميزات من Xcode على أنه فرصة لتبسيط المفاهيم
باستخدام واجهات برمجة تطبيقات بسيطة وواضحة.
<!-- -->
:::

## حافظ على البساطة {#keep-it-simple}

يأتي أحد التحديات الرئيسية عند توسيع نطاق مشاريع Xcode من حقيقة أن **Xcode يعرض
الكثير من التعقيدات للمستخدمين.** وبسبب ذلك، فإن الفرق لديها عامل نقل كبير ولا
يفهم المشروع والأخطاء التي يلقيها نظام البناء سوى عدد قليل من الأشخاص في الفريق.
وهذا وضع سيء لأن الفريق يعتمد على عدد قليل من الأشخاص.

Xcode أداة رائعة، ولكن سنوات عديدة من التحسينات والمنصات الجديدة ولغات البرمجة
انعكست على سطحها، الذي كافح ليبقى بسيطًا.

يجب أن تغتنم Tuist الفرصة لتبسيط الأمور لأن العمل على الأمور البسيطة ممتع
ويحفزنا. لا أحد يرغب في قضاء الوقت في محاولة تصحيح خطأ يحدث في نهاية عملية
التجميع، أو فهم سبب عدم تمكنه من تشغيل التطبيق على أجهزته. يقوم Xcode بتفويض
المهام إلى نظام البناء الأساسي الخاص به، وفي بعض الحالات يقوم بعمل سيئ للغاية في
ترجمة الأخطاء إلى عناصر قابلة للتنفيذ. هل سبق لك أن واجهت خطأ " *" "framework X
not found" "* " ولم تعرف ماذا تفعل؟ تخيل لو حصلنا على قائمة بالأسباب الجذرية
المحتملة للخطأ.

## ابدأ من تجربة المطور {#start-from-the-developers-experience}

جزء من سبب نقص الابتكار حول Xcode، أو بعبارة أخرى، عدم وجوده بنفس القدر الموجود
في بيئات البرمجة الأخرى، هو أننا غالبًا ما نبدأ في تحليل المشكلات من الحلول
الموجودة. **** ونتيجة لذلك، فإن معظم الحلول التي نجدها اليوم تدور حول نفس
الأفكار وسير العمل. في حين أنه من الجيد تضمين الحلول الموجودة في المعادلات، إلا
أننا يجب ألا نسمح لها بتقييد إبداعنا.

نحب أن نفكر كما يقول [توم بريستون](https://tom.preston-werner.com/) في [هذا
البودكاست](https://tom.preston-werner.com/): *"يمكن تحقيق معظم الأشياء، فكل ما
يدور في ذهنك يمكنك على الأرجح تحقيقه باستخدام الكود طالما كان ذلك ممكنًا في حدود
قيود الكون".* إذا **تخيلنا كيف نريد أن تكون تجربة المطور** ، فإن تحقيق ذلك مسألة
وقت فقط — من خلال البدء في تحليل المشكلات من تجربة المطور، نحصل على وجهة نظر
فريدة تقودنا إلى حلول سيحب المستخدمون استخدامها.

قد نشعر بالإغراء لاتباع ما يفعله الجميع، حتى لو كان ذلك يعني التمسك بالمضايقات
التي يستمر الجميع في الشكوى منها. دعنا لا نفعل ذلك. كيف أتخيل أرشفة تطبيقي؟ كيف
أحب أن يكون توقيع الرموز البرمجية؟ ما هي العمليات التي يمكنني المساعدة في
تبسيطها مع تويست؟ على سبيل المثال، إضافة دعم [Fastlane]
(https://fastlane.tools/) هو حل لمشكلة نحتاج إلى فهمها أولاً. يمكننا الوصول إلى
جذور المشكلة من خلال طرح أسئلة "لماذا". وبمجرد أن نحدد مصدر الدافع، يمكننا
التفكير في أفضل طريقة يمكن أن يساعدهم بها تويست. ربما يكون الحل هو الاندماج مع
Fastlane، ولكن من المهم ألا نتجاهل الحلول الأخرى الصالحة بنفس القدر التي يمكننا
وضعها على الطاولة قبل إجراء المفاضلة.

## قد تحدث أخطاء وستحدث بالفعل {#errors-can-and-will-happen}

نحن، المطورون، لدينا ميل فطري إلى تجاهل احتمال حدوث أخطاء. ونتيجة لذلك، نقوم
بتصميم واختبار البرامج مع الأخذ في الاعتبار السيناريو المثالي فقط.

قد يساعد نظام سويفت، ونظام النوع الخاص به، والشيفرة المصممة بشكل جيد في منع بعض
الأخطاء، ولكن ليس كلها لأن بعضها خارج عن سيطرتنا. لا يمكننا افتراض أن المستخدم
سيكون لديه دائمًا اتصال بالإنترنت، أو أن أوامر النظام ستعود بنجاح. البيئات التي
يعمل فيها تويست ليست بيئات رملية نتحكم بها، وبالتالي نحتاج إلى بذل جهد لفهم كيف
يمكن أن تتغير وتؤثر على تويست.

تؤدي الأخطاء التي يتم التعامل معها بشكل سيئ إلى تجربة مستخدم سيئة، وقد يفقد
المستخدمون ثقتهم في المشروع. نريد أن يستمتع المستخدمون بكل جزء من Tuist، حتى
الطريقة التي نعرض بها الأخطاء لهم.

يجب أن نضع أنفسنا في مكان المستخدمين ونتخيل ما نتوقع أن يخبرنا به الخطأ. إذا
كانت لغة البرمجة هي قناة الاتصال التي تنتشر من خلالها الأخطاء، والمستخدمون هم
وجهة هذه الأخطاء، فيجب أن تكتب الأخطاء بنفس اللغة التي يتحدث بها المستخدمون. يجب
أن تتضمن الأخطاء معلومات كافية لمعرفة ما حدث وإخفاء المعلومات غير ذات الصلة. كما
يجب أن تكون قابلة للتنفيذ من خلال إخبار المستخدمين بالخطوات التي يمكنهم اتخاذها
للتعافي منها.

وأخيرًا وليس آخرًا، يجب أن تأخذ حالات الاختبار في الاعتبار سيناريوهات الفشل. فهي
لا تضمن فقط أننا نتعامل مع الأخطاء كما ينبغي، بل تمنع المطورين في المستقبل من
كسر هذا المنطق.

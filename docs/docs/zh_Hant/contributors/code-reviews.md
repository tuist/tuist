---
{
  "title": "Code reviews",
  "titleTemplate": ":title · Contributors · Tuist",
  "description": "Learn how to contribute to Tuist by reviewing code"
}
---
# 程式碼審查{#code-reviews}

審查拉取請求是常見的貢獻形式。儘管持續整合（CI）能確保程式碼符合預期功能，但這仍不足夠。某些貢獻特質無法自動化：設計、程式碼結構與架構、測試品質或拼寫錯誤。以下各節將闡述程式碼審查流程的不同面向。

## 可讀性{#readability}

程式碼是否清晰表達其意圖？**若需耗費大量時間解讀程式碼功能，則需改進程式碼實作。**
建議將程式碼拆分為更易理解的抽象單元。另一種替代方案（作為最後手段）是添加註解說明設計邏輯。請自問：若缺乏拉取請求說明等上下文，你能否在近期內理解此程式碼？

## 小型拉取請求{#small-pull-requests}

大型拉取請求難以審查，容易遺漏細節。若拉取請求過於龐大且難以管理，請建議作者將其拆分。

::: info EXCEPTIONS
<!-- -->
僅少數情況無法拆分拉取請求，例如變更內容緊密相關且無法分離時。此類情況下，提交者應明確說明變更內容及其背後考量。
<!-- -->
:::

## 一致性{#consistency}

修改須與專案其他部分保持一致性。不一致性會增加維護複雜度，因此應避免此類情況。若存在向使用者輸出訊息或回報錯誤的既定方式，應遵循該規範。若作者對專案標準有異議，請建議其開啟議題以供進一步討論。

## 測試{#tests}

測試能讓程式碼修改更具信心。拉取請求中的程式碼應經過測試，且所有測試皆須通過。優質的測試應具備以下特質：始終產生相同結果、易於理解與維護。審查者雖將多數時間投入程式碼實作審查，但測試同樣重要——因為測試本身也是程式碼。

## 重大變更{#breaking-changes}

破壞性變更會對 Tuist 使用者造成不良體驗。除非絕對必要，貢獻者應避免引入破壞性變更。我們可運用多種語言特性來演進 Tuist
介面，無需訴諸破壞性變更。變更是否具破壞性可能難以判斷。 驗證變更是否構成重大變更的方法，是將 Tuist 對照 fixtures
目錄中的範例專案執行測試。這需要我們站在使用者立場，設想變更將如何影響他們。

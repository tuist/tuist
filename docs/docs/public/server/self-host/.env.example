# ============================================
# Tuist Server Environment Configuration
# ============================================
# This is an example .env file for Tuist server self-hosting.
# Copy this file to .env and fill in the required values.

# ============================================
# License Configuration (REQUIRED)
# ============================================
# You must provide either TUIST_LICENSE or TUIST_LICENSE_CERTIFICATE_BASE64
# Contact contact@tuist.dev for a license
TUIST_LICENSE=

# ============================================
# Base Configuration (REQUIRED)
# ============================================
# The base URL to access the instance from the Internet
TUIST_APP_URL=http://localhost:8080

# Secret key base - generate with: openssl rand -hex 64
# This example value is for development only - generate a new one for production
TUIST_SECRET_KEY_BASE=c5786d9f869239cbddeca645575349a570ffebb332b64400c37256e1c9cb7ec831345d03dc0188edd129d09580d8cbf3ceaf17768e2048c037d9c31da5dcacfa

# ============================================
# Authentication Configuration (REQUIRED)
# ============================================
# At least one authentication method must be configured for users to log in

# GitHub OAuth
# Get these from: https://github.com/settings/developers
TUIST_GITHUB_APP_CLIENT_ID=
TUIST_GITHUB_APP_CLIENT_SECRET=

# Google OAuth (optional)
# Get these from: https://console.cloud.google.com/apis/credentials
TUIST_GOOGLE_OAUTH_CLIENT_ID=
TUIST_GOOGLE_OAUTH_CLIENT_SECRET=

# Apple Sign In (optional)
# TUIST_APPLE_SERVICE_CLIENT_ID=
# TUIST_APPLE_TEAM_ID=
# TUIST_APPLE_PRIVATE_KEY_ID=
# TUIST_APPLE_PRIVATE_KEY=

# ============================================
# Git Platform Integration (Optional)
# ============================================
# For posting comments on pull requests
# TUIST_GITHUB_APP_NAME=
# TUIST_GITHUB_APP_PRIVATE_KEY_BASE64=

# ============================================
# Email Configuration (Optional)
# ============================================
# If not configured, email confirmation is automatically skipped
# TUIST_MAILGUN_API_KEY=
# TUIST_MAILING_DOMAIN=
# TUIST_MAILING_FROM_ADDRESS=
# TUIST_MAILING_REPLY_TO_ADDRESS=
TUIST_SKIP_EMAIL_CONFIRMATION=true

# ============================================
# Database Configuration
# ============================================
# These values are configured for the included docker-compose.yml
# Modify if using external databases
DATABASE_URL=postgres://tuist:tuist_dev_password@postgres:5432/tuist_dev?sslmode=disable
TUIST_CLICKHOUSE_URL=http://default:clickhouse_dev_password@clickhouse:8123/tuist_dev
TUIST_USE_SSL_FOR_DATABASE=0
TUIST_DATABASE_POOL_SIZE=10

# ============================================
# Storage Configuration (S3/MinIO)
# ============================================
# These values are configured for the included MinIO container
# Modify if using external S3-compatible storage
TUIST_S3_ACCESS_KEY_ID=tuist
TUIST_S3_SECRET_ACCESS_KEY=tuist_dev_password
TUIST_S3_BUCKET_NAME=tuist-dev-bucket
TUIST_S3_REGION=us-east-1
TUIST_S3_ENDPOINT=http://minio:9000
TUIST_S3_VIRTUAL_HOST=false
TUIST_S3_PROTOCOL=http1

# ============================================
# Redis Configuration
# ============================================
# Configured for the included Redis container
TUIST_REDIS_URL=redis://redis:6379

# ============================================
# Optional Configuration
# ============================================
# Log level (debug, info, warning, error)
TUIST_LOG_LEVEL=info

# Operations access (comma-separated user handles)
# TUIST_OPS_USER_HANDLES=

# Monitoring
TUIST_PROMETHEUS_ENABLED=true
# TUIST_APP_SIGNAL_PUSH_API_KEY=
# TUIST_POSTHOG_API_KEY=
# TUIST_POSTHOG_URL=

# Application settings
TUIST_WEB=true
TUIST_HOSTED=0
MIX_ENV=dev

---
{
  "title": "Selective testing",
  "titleTemplate": ":title · Features · Guides · Tuist",
  "description": "Use selective testing to run only the tests that have changed since the last successful test run."
}
---
# Выборочное тестирование {#selective-testing}

По мере роста вашего проекта растет и количество тестов. В течение длительного
времени запуск всех тестов при каждом PR или push в `main` занимает десятки
секунд. Но это решение не подходит для тысяч тестов, которые может иметь ваша
команда.

При каждом запуске теста на CI вы, скорее всего, повторно запускаете все тесты,
независимо от изменений. Селективное тестирование Tuist помогает значительно
ускорить выполнение тестов, запуская только те тесты, которые изменились с
момента последнего успешного запуска теста на основе нашего
<LocalizedLink href="/guides/features/projects/hashing">алгоритма
хеширования</LocalizedLink>.

Чтобы выборочно запускать тесты с помощью
<LocalizedLink href="/guides/features/projects">созданного
проекта</LocalizedLink>, используйте команду `tuist test`. Команда
<LocalizedLink href="/guides/features/projects/hashing">хеширует</LocalizedLink>
ваш проект Xcode так же, как и
<LocalizedLink href="/guides/features/cache/module-cache">кэш
модулей</LocalizedLink>, и в случае успеха сохраняет хэши, чтобы определить, что
изменилось в будущих запусках. В будущих запусках `tuist test` прозрачно
использует хэши для фильтрации тестов и запускает только те, которые изменились
с момента последнего успешного запуска тестов.

`tuist test` напрямую интегрируется с
<LocalizedLink href="/guides/features/cache/module-cache">кэшем
модулей</LocalizedLink>, чтобы использовать как можно больше бинарных файлов из
локального или удаленного хранилища для сокращения времени сборки при запуске
набора тестов. Сочетание выборочного тестирования с кэшированием модулей может
значительно сократить время, необходимое для запуска тестов в вашей CI.

::: warning MODULE VS FILE-LEVEL GRANULARITY
<!-- -->
Из-за невозможности обнаружить зависимости между тестами и источниками в коде
максимальная детальность выборочного тестирования достигается на уровне целей.
Поэтому мы рекомендуем делать цели небольшими и сфокусированными, чтобы
максимально использовать преимущества выборочного тестирования.
<!-- -->
:::

::: warning TEST COVERAGE
<!-- -->
Инструменты тестового покрытия предполагают, что весь набор тестов запускается
сразу, что делает их несовместимыми с выборочным запуском тестов — это означает,
что данные покрытия могут не отражать реальность при использовании выбора
тестов. Это известное ограничение, и оно не означает, что вы делаете что-то не
так. Мы рекомендуем командам подумать о том, приносит ли покрытие в этом
контексте значимую информацию, и если да, то будьте уверены, что мы уже думаем о
том, как сделать так, чтобы покрытие работало правильно с выборочным запуском в
будущем.
<!-- -->
:::


## Комментарии к pull/merge request {#pullmerge-request-comments}

::: warning ТРЕБУЕТСЯ ИНТЕГРАЦИЯ С GIT
<!-- -->
Чтобы получить автоматические комментарии к запросам pull/merge, интегрируйте
ваш
<LocalizedLink href="/guides/server/accounts-and-projects">Tuist-проект</LocalizedLink>
с
<LocalizedLink href="/guides/server/authentication">Git-платформой</LocalizedLink>.
<!-- -->
:::

Как только ваш проект Tuist будет подключен к платформе Git, такой как
[GitHub](https://github.com), и вы начнете использовать `tuist test` в рамках
вашего рабочего процесса CI, Tuist будет публиковать комментарий непосредственно
в ваших запросах на вытягивание/слияние, включая информацию о том, какие тесты
были запущены, а какие пропущены: ![Комментарий в приложении GitHub со ссылкой
Tuist Preview](/images/guides/features/selective-testing/github-app-comment.png)

---
{
  "title": "Migrate a Swift Package",
  "titleTemplate": ":title · Migrate · Adoption · Projects · Features · Guides · Tuist",
  "description": "Learn how to migrate from Swift Package Manager as a solution for managing your projects to Tuist projects."
}
---
# Перенос пакета Swift {#migrate-a-swift-package}

Swift Package Manager возник как менеджер зависимостей для Swift-кода, который
непреднамеренно оказался решением проблемы управления проектами и поддержки
других языков программирования, таких как Objective-C. Поскольку этот инструмент
был разработан с другой целью, его использование для управления проектами в
масштабе может быть затруднено, поскольку ему не хватает гибкости,
производительности и мощности, которые предоставляет Tuist. Это хорошо отражено
в статье [Масштабирование iOS в
Bumble](https://medium.com/bumble-tech/scaling-ios-at-bumble-239e0fa009f2), где
приведена следующая таблица, сравнивающая производительность Swift Package
Manager и нативных проектов Xcode:

<img style="max-width: 400px;" alt="A table that compares the regression in performance when using SPM over native Xcode projects" src="/images/guides/start/migrate/performance-table.webp">

Мы часто сталкиваемся с разработчиками и организациями, которые оспаривают
необходимость использования Tuist, считая, что Swift Package Manager может взять
на себя аналогичную роль управления проектами. Некоторые решаются на миграцию,
чтобы потом понять, что их опыт разработчика значительно ухудшился. Например,
переименование файла может занять до 15 секунд для повторной индексации. 15
секунд!

**Сделает ли Apple Swift Package Manager встроенным менеджером проектов -
неизвестно.** Однако мы не видим никаких признаков того, что это произойдет.
Более того, мы видим прямо противоположное. Они принимают решения, вдохновленные
Xcode, например, добиваются удобства за счет неявных конфигураций, которые
<LocalizedLink href="/guides/features/projects/cost-of-convenience">как вы,
возможно, знаете,</LocalizedLink> являются источником сложностей при
масштабировании. Мы считаем, что Apple следовало бы обратиться к первым
принципам и пересмотреть некоторые решения, которые имели смысл как менеджер
зависимостей, но не как менеджер проектов, например использование
скомпилированного языка в качестве интерфейса для определения проектов.

> [!СОВЕТ] SPM КАК ПРОСТО МЕНЕДЖЕР ЗАВИСИМОСТЕЙ Tuist рассматривает Swift
> Package Manager как менеджер зависимостей, и это замечательно. Мы используем
> его для разрешения зависимостей и сборки. Мы не используем его для определения
> проектов, потому что он для этого не предназначен.

## Переход от менеджера пакетов Swift к Tuist {#migrating-from-swift-package-manager-to-tuist}

Сходство между Swift Package Manager и Tuist делает процесс миграции простым.
Основное отличие заключается в том, что вы будете определять свои проекты,
используя DSL Tuist, а не `Package.swift`.

Сначала создайте файл `Project.swift` рядом с файлом `Package.swift`. Файл
`Project.swift` будет содержать определение вашего проекта. Вот пример файла
`Project.swift`, который определяет проект с одной целью:

```swift
import ProjectDescription

let project = Project(
    name: "App",
    targets: [
        .target(
            name: "App",
            destinations: .iOS,
            product: .app,
            bundleId: "dev.tuist.App",
            sources: ["Sources/**/*.swift"]*
        ),
    ]
)
```

Следует отметить некоторые моменты:

- **ProjectDescription**: Вместо `PackageDescription` вы будете использовать
  `ProjectDescription`.
- **Проект:** Вместо экспорта экземпляра `пакета` вы будете экспортировать
  экземпляр `проекта`.
- **Язык Xcode:** Примитивы, которые вы используете для определения своего
  проекта, имитируют язык Xcode, поэтому среди прочего вы найдете схемы, цели и
  фазы сборки.

Затем создайте файл `Tuist.swift` со следующим содержимым:

```swift
import ProjectDescription

let tuist = Tuist()
```

В файле `Tuist.swift` содержится конфигурация вашего проекта, а путь к нему
служит ссылкой для определения корня проекта. Вы можете ознакомиться с
документом
<LocalizedLink href="/guides/features/projects/directory-structure">Структура
каталогов</LocalizedLink>, чтобы узнать больше о структуре проектов Tuist.

## Редактирование проекта {#editing-the-project}

Вы можете использовать команду
<LocalizedLink href="/guides/features/projects/editing">`tuist
edit`</LocalizedLink> для редактирования проекта в Xcode. Команда сгенерирует
проект Xcode, который можно открыть и начать работать над ним.

```bash
tuist edit
```

В зависимости от размера проекта, вы можете использовать его за один раз или
постепенно. Мы рекомендуем начать с небольшого проекта, чтобы ознакомиться с DSL
и рабочим процессом. Мы советуем всегда начинать с наиболее зависимой цели и
работать до цели верхнего уровня.

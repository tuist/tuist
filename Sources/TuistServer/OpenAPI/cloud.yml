---
components:
  responses: {}
  schemas:
    AbsentCacheArtifact:
      properties:
        error:
          items:
            properties:
              code:
                default: not_found
                type: string
              message:
                type: string
            type: object
          type: array
      title: AbsentCacheArtifact
      type: object
    ArtifactMultipartUploadPart:
      description: Represents an multipart upload's part identified by the upload id and the part number
      properties:
        part_number:
          description: The part number of the multipart upload.
          type: integer
        upload_id:
          description: The upload ID.
          type: string
      required:
        - part_number
        - upload_id
      title: ArtifactMultipartUploadPart
      x-struct: Elixir.TuistCloudWeb.API.Schemas.ArtifactMultipartUploadPart
    ArtifactMultipartUploadParts:
      description: It represents a part that has been uploaded using multipart uploads. The part is identified by its number and the etag
      properties:
        parts:
          items:
            properties:
              etag:
                description: The ETag of the part
                type: string
              part_number:
                description: The part number
                type: integer
            required:
              - part_number
              - etag
            type: object
          type: array
        upload_id:
          description: The upload ID
          type: string
      required:
        - upload_id
        - parts
      title: ArtifactMultipartUploadParts
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.ArtifactMultipartUploadParts
    ArtifactMultipartUploadURL:
      description: The URL to upload a multipart part
      properties:
        data:
          properties:
            url:
              description: The URL to upload the part
              type: string
          required:
            - url
          type: object
        status:
          default: success
          enum:
            - success
          type: string
      required:
        - status
        - data
      title: ArtifactMultipartUploadURL
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.ArtifactMultipartUploadUrl
    ArtifactUploadID:
      description: The upload has been initiated and a ID is returned to upload the various parts using multi-part uploads
      properties:
        data:
          description: Data that contains ID that's associated with the multipart upload to use when uploading parts
          properties:
            upload_id:
              description: The upload ID
              type: string
          required:
            - upload_id
          type: object
        status:
          default: success
          enum:
            - success
          type: string
      required:
        - status
        - data
      title: ArtifactUploadID
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.ArtifactUploadId
    AuthenticationToken:
      description: Token to authenticate the user with.
      properties:
        token:
          description: User authentication token
          type: string
      title: AuthenticationToken
      type: object
    CacheArtifactDownloadURL:
      description: The URL to download the artifact from the cache.
      properties:
        data:
          properties:
            expires_at:
              description: The UNIX timestamp when the URL expires.
              type: integer
            url:
              description: The URL to download the artifact from the cache.
              type: string
          required:
            - url
            - expires_at
          type: object
        status:
          default: success
          enum:
            - success
          type: string
      required:
        - status
        - data
      title: CacheArtifactDownloadURL
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.CacheArtifactDownloadURL
    CacheArtifactExistence:
      description: The artifact exists in the cache and can be downloaded
      properties:
        data:
          properties: {}
          type: object
        status:
          default: success
          enum:
            - success
          type: string
      title: CacheArtifactExistence
      type: object
    CacheArtifactMultipartUploadCompletion:
      description: This response confirms that the upload has been completed successfully. The cache will now be able to serve the artifact.
      properties:
        data:
          properties: {}
          type: object
        status:
          default: success
          enum:
            - success
          type: string
      title: CacheArtifactMultipartUploadCompletion
      type: object
    CacheCategory:
      default: builds
      description: The category of the cache.
      enum:
        - tests
        - builds
      title: CacheCategory
      type: string
      x-struct: Elixir.TuistCloudWeb.API.Schemas.CacheCategory
    CommandEvent:
      description: The schema for the command analytics event.
      properties:
        id:
          description: ID of the command event
          type: number
        name:
          description: Name of the command
          type: string
        url:
          description: URL to the command event
          type: string
      required:
        - id
        - name
        - url
      title: CommandEvent
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.CommandEvent
    CommandEventArtifact:
      description: It represents an artifact that's associated with a command event (e.g. result bundles)
      properties:
        name:
          description: The name of the file. It's used only for certain types such as result_bundle_object
          type: string
        type:
          description: |
            The command event artifact type. It can be:
            - result_bundle: A result bundle artifact that represents the whole `.xcresult` bundle
            - invocation_record: An invocation record artifact. This is a root bundle object of the result bundle
            - result_bundle_object: A result bundle object. There are many different bundle objects per result bundle.
          enum:
            - result_bundle
            - invocation_record
            - result_bundle_object
          type: string
      required:
        - type
      title: CommandEventArtifact
      x-struct: Elixir.TuistCloudWeb.API.Schemas.CommandEventArtifact
    Error:
      properties:
        message:
          description: The error message
          type: string
      required:
        - message
      title: Error
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.Error
    Invitation:
      properties:
        id:
          description: The invitation's unique identifier
          type: number
        invitee_email:
          description: The email of the invitee
          type: string
        inviter:
          $ref: '#/components/schemas/User'
        organization_id:
          description: The id of the organization the invitee is invited to
          type: number
        token:
          description: The token to accept the invitation
          type: string
      required:
        - id
        - invitee_email
        - organization_id
        - inviter
        - token
      title: Invitation
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.Invitation
    Module:
      properties:
        hash:
          description: A hash that represents the module.
          type: string
        name:
          description: A name of the module
          type: string
        project_identifier:
          description: Project's relative path from the root of the repository
          type: string
      required:
        - name
        - project_identifier
        - hash
      title: Module
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.Module
    Organization:
      description: An organization
      properties:
        id:
          description: The organization's unique identifier
          type: number
        invitations:
          description: A list of organization invitations
          items:
            $ref: '#/components/schemas/Invitation'
          type: array
        members:
          description: A list of organization members
          items:
            $ref: '#/components/schemas/OrganizationMember'
          type: array
        name:
          description: The organization's name
          type: string
        plan:
          description: The plan associated with the organization
          enum:
            - air
            - pro
            - enterprise
            - none
          type: string
        sso_organization_id:
          description: The organization ID associated with the SSO provider
          type: string
        sso_provider:
          description: The SSO provider set up for the organization
          enum:
            - google
          type: string
      required:
        - id
        - name
        - plan
        - members
        - invitations
      title: Organization
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.Organization
    OrganizationList:
      description: The list of organizations the authenticated subject is part of.
      properties:
        organizations:
          items:
            $ref: '#/components/schemas/Organization'
          type: array
      required:
        - organizations
      title: OrganizationList
      type: object
    OrganizationMember:
      description: An organization member
      properties:
        email:
          description: The organization member's email
          type: string
        id:
          description: The organization member's unique identifier
          type: number
        name:
          description: The organization member's name
          type: string
        role:
          description: The organization member's role
          enum:
            - admin
            - user
          type: string
      required:
        - id
        - email
        - name
        - role
      title: OrganizationMember
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.OrganizationMember
    OrganizationUsage:
      description: The usage of an organization.
      properties:
        current_month_remote_cache_hits:
          description: The number of remote cache hits in the current month
          type: number
      required:
        - current_month_remote_cache_hits
      title: OrganizationUsage
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.OrganizationUsage
    Project:
      properties:
        full_name:
          description: The full name of the project (e.g. tuist/tuist)
          type: string
        id:
          description: ID of the project
          type: number
        token:
          description: The token that should be used to authenticate the project. For CI only.
          type: string
      required:
        - id
        - full_name
        - token
      title: Project
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.Project
    User:
      description: A user.
      properties:
        email:
          description: The user's email
          type: string
        id:
          description: The user's unique identifier
          type: number
        name:
          description: The user's name
          type: string
      required:
        - id
        - email
        - name
      title: User
      type: object
      x-struct: Elixir.TuistCloudWeb.API.Schemas.User
  securitySchemes:
    authorization:
      scheme: bearer
      type: http
info:
  title: Tuist
  version: 0.1.0
openapi: 3.0.0
paths:
  /api/analytics:
    post:
      callbacks: {}
      operationId: createCommandEvent
      parameters:
        - description: The project id.
          in: query
          name: project_id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                client_id:
                  description: The client id of the command.
                  type: string
                command_arguments:
                  description: The arguments of the command.
                  items:
                    type: string
                  type: array
                duration:
                  description: The duration of the command.
                  type: number
                error_message:
                  description: The error message of the command.
                  type: string
                is_ci:
                  description: Whether the command was run in a CI environment.
                  type: boolean
                macos_version:
                  description: The version of macOS that ran the command.
                  type: string
                name:
                  description: The name of the command.
                  type: string
                params:
                  description: Extra parameters.
                  properties:
                    cacheable_targets:
                      description: A list of cacheable targets.
                      items:
                        type: string
                      type: array
                    local_cache_target_hits:
                      description: A list of local cache target hits.
                      items:
                        type: string
                      type: array
                    local_test_target_hits:
                      description: A list of local targets whose tests were skipped.
                      items:
                        type: string
                      type: array
                    remote_cache_target_hits:
                      description: A list of remote cache target hits.
                      items:
                        type: string
                      type: array
                    remote_test_target_hits:
                      description: A list of remote targets whose tests were skipped.
                      items:
                        type: string
                      type: array
                    test_targets:
                      description: The list of targets that were tested.
                      items:
                        type: string
                      type: array
                  type: object
                status:
                  description: The status of the command.
                  enum:
                    - success
                    - failure
                  type: string
                subcommand:
                  description: The subcommand of the command.
                  type: string
                swift_version:
                  description: The version of Swift that ran the command.
                  type: string
                tuist_version:
                  description: The version of Tuist that ran the command.
                  type: string
              required:
                - name
                - duration
                - tuist_version
                - swift_version
                - macos_version
                - is_ci
                - client_id
              type: object
        description: Command event params
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommandEvent'
          description: The command event was created
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You don't have permission to create command events for the project.
      summary: Create a a new command analytics event
      tags: []
  /api/auth/device_code/{device_code}:
    get:
      callbacks: {}
      description: This endpoint returns a token for a given device code if the device code is authenticated.
      operationId: getDeviceCode
      parameters:
        - description: The device code to query.
          in: path
          name: device_code
          required: true
          schema:
            type: string
      responses:
        200:
          content:
            application/json:
              schema:
                description: Token to authenticate the user with.
                properties:
                  token:
                    description: User authentication token
                    type: string
                title: AuthenticationToken
                type: object
          description: The device code is authenticated
        202:
          content:
            application/json:
              schema:
                type: object
          description: The device code is not authenticated
        400:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The request was not accepted, e.g., when the device code is expired
      summary: Get a specific device code.
      tags: []
  /api/cache:
    get:
      callbacks: {}
      description: This endpoint returns a signed URL that can be used to download an artifact from the cache.
      operationId: downloadCacheArtifact
      parameters:
        - description: The category of the cache. It's used to differentiate between different types of caches.
          in: query
          name: cache_category
          required: false
          schema:
            $ref: '#/components/schemas/CacheCategory'
        - description: The project identifier '{account_name}/{project_name}'.
          in: query
          name: project_id
          required: true
          schema:
            type: string
        - description: The hash that uniquely identifies the artifact in the cache.
          in: query
          name: hash
          required: true
          schema:
            type: string
        - description: The name of the artifact.
          in: query
          name: name
          required: true
          schema:
            type: string
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CacheArtifactDownloadURL'
          description: The artifact exists and is downloadable
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        402:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The account has an invalid plan
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The project or the cache artifact doesn't exist
      summary: Downloads an artifact from the cache.
      tags: []
  /api/cache/exists:
    get:
      callbacks: {}
      deprecated: true
      description: This endpoint checks if an artifact exists in the cache. It returns a 404 status code if the artifact does not exist.
      operationId: cacheArtifactExists
      parameters:
        - description: The category of the cache. It's used to differentiate between different types of caches.
          in: query
          name: cache_category
          required: false
          schema:
            $ref: '#/components/schemas/CacheCategory'
        - description: The project identifier '{account_name}/{project_name}'.
          in: query
          name: project_id
          required: true
          schema:
            type: string
        - description: The hash that uniquely identifies the artifact in the cache.
          in: query
          name: hash
          required: true
          schema:
            type: string
        - description: The name of the artifact.
          in: query
          name: name
          required: true
          schema:
            type: string
      responses:
        200:
          content:
            application/json:
              schema:
                description: The artifact exists in the cache and can be downloaded
                properties:
                  data:
                    properties: {}
                    type: object
                  status:
                    default: success
                    enum:
                      - success
                    type: string
                title: CacheArtifactExistence
                type: object
          description: The artifact exists
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        402:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The account has an invalid plan
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                properties:
                  error:
                    items:
                      properties:
                        code:
                          default: not_found
                          type: string
                        message:
                          type: string
                      type: object
                    type: array
                title: AbsentCacheArtifact
                type: object
          description: The artifact doesn't exist
      summary: It checks if an artifact exists in the cache.
      tags: []
  /api/cache/multipart/complete:
    post:
      callbacks: {}
      description: Given the upload ID and all the parts with their ETags, this endpoint completes the multipart upload. The cache will then be able to serve the artifact.
      operationId: completeCacheArtifactMultipartUpload
      parameters:
        - description: The category of the cache. It's used to differentiate between different types of caches.
          in: query
          name: cache_category
          required: false
          schema:
            $ref: '#/components/schemas/CacheCategory'
        - description: The project identifier '{account_name}/{project_name}'.
          in: query
          name: project_id
          required: true
          schema:
            type: string
        - description: The hash that uniquely identifies the artifact in the cache.
          in: query
          name: hash
          required: true
          schema:
            type: string
        - description: The upload ID.
          in: query
          name: upload_id
          required: true
          schema:
            type: string
        - description: The name of the artifact.
          in: query
          name: name
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                parts:
                  items:
                    properties:
                      etag:
                        description: The ETag of the part
                        type: string
                      part_number:
                        description: The part number
                        type: integer
                    type: object
                  type: array
              type: object
        description: Multi-part upload parts
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                description: This response confirms that the upload has been completed successfully. The cache will now be able to serve the artifact.
                properties:
                  data:
                    properties: {}
                    type: object
                  status:
                    default: success
                    enum:
                      - success
                    type: string
                title: CacheArtifactMultipartUploadCompletion
                type: object
          description: The upload has been completed
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        402:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The account has an invalid plan
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The project doesn't exist
      summary: It completes a multi-part upload.
      tags: []
  /api/cache/multipart/generate-url:
    post:
      callbacks: {}
      description: Given an upload ID and a part number, this endpoint returns a signed URL that can be used to upload a part of a multipart upload. The URL is short-lived and expires in 120 seconds.
      operationId: generateCacheArtifactMultipartUploadURL
      parameters:
        - description: The category of the cache. It's used to differentiate between different types of caches.
          in: query
          name: cache_category
          required: false
          schema:
            $ref: '#/components/schemas/CacheCategory'
        - description: The project identifier '{account_name}/{project_name}'.
          in: query
          name: project_id
          required: true
          schema:
            type: string
        - description: The hash that uniquely identifies the artifact in the cache.
          in: query
          name: hash
          required: true
          schema:
            type: string
        - description: The part number of the multipart upload.
          in: query
          name: part_number
          required: true
          schema:
            type: integer
        - description: The upload ID.
          in: query
          name: upload_id
          required: true
          schema:
            type: string
        - description: The name of the artifact.
          in: query
          name: name
          required: true
          schema:
            type: string
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArtifactMultipartUploadURL'
          description: The URL has been generated
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        402:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The account has an invalid plan
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The project doesn't exist
      summary: It generates a signed URL for uploading a part.
      tags: []
  /api/cache/multipart/start:
    post:
      callbacks: {}
      description: The endpoint returns an upload ID that can be used to generate URLs for the individual parts and complete the upload.
      operationId: startCacheArtifactMultipartUpload
      parameters:
        - description: The category of the cache. It's used to differentiate between different types of caches.
          in: query
          name: cache_category
          required: false
          schema:
            $ref: '#/components/schemas/CacheCategory'
        - description: The project identifier '{account_name}/{project_name}'.
          in: query
          name: project_id
          required: true
          schema:
            type: string
        - description: The hash that uniquely identifies the artifact in the cache.
          in: query
          name: hash
          required: true
          schema:
            type: string
        - description: The name of the artifact.
          in: query
          name: name
          required: true
          schema:
            type: string
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArtifactUploadID'
          description: The upload has been started
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        402:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The account has an invalid plan
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The project doesn't exist
      summary: It initiates a multipart upload in the cache.
      tags: []
  /api/organizations:
    get:
      callbacks: {}
      description: Returns all the organizations the authenticated subject is part of.
      operationId: listOrganizations
      parameters: []
      responses:
        200:
          content:
            application/json:
              schema:
                description: The list of organizations the authenticated subject is part of.
                properties:
                  organizations:
                    items:
                      $ref: '#/components/schemas/Organization'
                    type: array
                required:
                  - organizations
                title: OrganizationList
                type: object
          description: The list of organizations
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
      summary: Lists the organizations
      tags: []
    post:
      callbacks: {}
      description: Creates an organization with the given name.
      operationId: createOrganization
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              properties:
                name:
                  description: The name of the organization that should be created.
                  type: string
              required:
                - name
              type: object
        description: Organization params
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Organization'
          description: The organization was created
        400:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization could not be created due to a validation error
      summary: Creates an organization
      tags: []
  /api/organizations/{organization_name}:
    delete:
      callbacks: {}
      description: Deletes the organization with the given name.
      operationId: deleteOrganization
      parameters:
        - description: The name of the organization to delete.
          in: path
          name: organization_name
          required: true
          schema:
            type: string
      responses:
        204:
          description: The organization was deleted
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization with the given name was not found
      summary: Deletes an organization
      tags: []
    get:
      callbacks: {}
      description: Returns the organization with the given identifier.
      operationId: showOrganization
      parameters:
        - description: The name of the organization to show.
          in: path
          name: organization_name
          required: true
          schema:
            type: string
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Organization'
          description: The organization
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization with the given name was not found
      summary: Shows an organization
      tags: []
    patch:
      callbacks: {}
      description: Updates an organization with given parameters.
      operationId: updateOrganization (2)
      parameters:
        - description: The name of the organization to update.
          in: path
          name: organization_name
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                sso_organization_id:
                  description: The SSO organization ID to be associated with the SSO provider
                  nullable: true
                  type: string
                sso_provider:
                  description: The SSO provider to set up for the organization
                  enum:
                    - google
                    - none
                  type: string
              type: object
        description: Organization update params
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Organization'
          description: The organization
        400:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization could not be updated due to a validation error
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization with the given name was not found
      summary: Updates an organization
      tags: []
    put:
      callbacks: {}
      description: Updates an organization with given parameters.
      operationId: updateOrganization
      parameters:
        - description: The name of the organization to update.
          in: path
          name: organization_name
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                sso_organization_id:
                  description: The SSO organization ID to be associated with the SSO provider
                  nullable: true
                  type: string
                sso_provider:
                  description: The SSO provider to set up for the organization
                  enum:
                    - google
                    - none
                  type: string
              type: object
        description: Organization update params
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Organization'
          description: The organization
        400:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization could not be updated due to a validation error
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization with the given name was not found
      summary: Updates an organization
      tags: []
  /api/organizations/{organization_name}/invitations:
    delete:
      callbacks: {}
      description: Cancels an invitation for a given invitee email and an organization.
      operationId: cancelInvitation
      parameters:
        - description: The name of the organization.
          in: path
          name: organization_name
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                invitee_email:
                  description: The email of the invitee.
                  type: string
              required:
                - invitee_email
              type: object
        description: Invitation params
        required: false
      responses:
        204:
          content:
            application/json: {}
          description: The invitation was cancelled
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The invitation with the given invitee email and organization name was not found
      summary: Cancels an invitation
      tags: []
    post:
      callbacks: {}
      description: Invites a user with a given email to a given organization.
      operationId: createInvitation
      parameters:
        - description: The name of the organization.
          in: path
          name: organization_name
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                invitee_email:
                  description: The email of the invitee.
                  type: string
              required:
                - invitee_email
              type: object
        description: Invitation params
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Invitation'
          description: The user was invited
        400:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The user could not be invited due to a validation error
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization was not found
      summary: Creates an invitation
      tags: []
  /api/organizations/{organization_name}/members/{user_name}:
    delete:
      callbacks: {}
      description: Removes a member with a given username from a given organization
      operationId: removeOrganizationMember
      parameters:
        - description: The name of the organization to remove the member from.
          in: path
          name: organization_name
          required: true
          schema:
            type: string
        - description: The name of the user to remove from the organization.
          in: path
          name: user_name
          required: true
          schema:
            type: string
      responses:
        204:
          content:
            application/json: {}
          description: The member was removed
        400:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The member could not be removed due to a validation error
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization or the user with the given name was not found
      summary: Removes a member from an organization
      tags: []
    put:
      callbacks: {}
      description: Updates a member in a given organization
      operationId: updateOrganizationMember
      parameters:
        - description: The name of the organization to update the member in.
          in: path
          name: organization_name
          required: true
          schema:
            type: string
        - description: The name of the user to update in the organization.
          in: path
          name: user_name
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              properties:
                role:
                  description: The role to update the member to
                  enum:
                    - admin
                    - user
                  type: string
              required:
                - role
              type: object
        description: Member update params
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationMember'
          description: The member was updated
        400:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The member could not be updated due to a validation error
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization or the user with the given name was not found
      summary: Updates a member in an organization
      tags: []
  /api/organizations/{organization_name}/usage:
    get:
      callbacks: {}
      description: Returns the usage of the organization with the given identifier. (e.g. number of remote cache hits)
      operationId: showOrganizationUsage
      parameters:
        - description: The name of the organization to show.
          in: path
          name: organization_name
          required: true
          schema:
            type: string
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrganizationUsage'
          description: The organization usage
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The organization with the given name was not found
      summary: Shows the usage of an organization
      tags: []
  /api/projects:
    get:
      callbacks: {}
      operationId: listProjects
      parameters: []
      responses:
        200:
          content:
            application/json:
              schema:
                properties:
                  projects:
                    items:
                      $ref: '#/components/schemas/Project'
                    type: array
                required:
                  - projects
                type: object
          description: List of projects
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
      summary: List projects the authenticated user has access to.
      tags: []
    post:
      callbacks: {}
      operationId: createProject
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              properties:
                full_handle:
                  description: The full handle of the project that should be created.
                  example: tuist/tuist
                  type: string
                name:
                  deprecated: true
                  description: The name of the project that should be created.
                  type: string
                organization:
                  deprecated: true
                  description: Organization to create the project with. If not specified, the project will be created with the current user's personal account.
                  type: string
              type: object
        description: Projects params
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
          description: The project was created
        400:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The account was not found
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
      summary: Create a new project.
      tags: []
  /api/projects/{account_name}/{project_name}:
    get:
      callbacks: {}
      operationId: showProject
      parameters:
        - description: The name of the account that the project belongs to.
          in: path
          name: account_name
          required: true
          schema:
            type: string
        - description: The name of the project to show
          in: path
          name: project_name
          required: true
          schema:
            type: string
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
          description: The project to show
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The project was not found
      summary: Returns a project based on the handle.
      tags: []
  /api/projects/{account_name}/{project_name}/cache/clean:
    put:
      callbacks: {}
      operationId: cleanCache
      parameters:
        - description: The name of the account that the project belongs to.
          in: path
          name: account_name
          required: true
          schema:
            type: string
        - description: The name of the project to clean cache for
          in: path
          name: project_name
          required: true
          schema:
            type: string
      responses:
        204:
          description: The cache has been successfully cleaned
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The project was not found
      summary: Cleans cache for a given project
      tags: []
  /api/projects/{id}:
    delete:
      callbacks: {}
      operationId: deleteProject
      parameters:
        - description: The id of the project to delete.
          in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        204:
          description: The project was successfully deleted.
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The project was not found
      summary: Deletes a project with a given id.
      tags: []
  /api/runs/{run_id}/complete:
    post:
      callbacks: {}
      description: Given the upload ID and all the parts with their ETags, this endpoint completes the multipart upload.
      operationId: completeAnalyticsArtifactMultipartUpload
      parameters:
        - description: The id of the command event.
          in: path
          name: run_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                command_event_artifact:
                  $ref: '#/components/schemas/CommandEventArtifact'
                multipart_upload_parts:
                  $ref: '#/components/schemas/ArtifactMultipartUploadParts'
              required:
                - command_event_artifact
                - multipart_upload_parts
              type: object
        description: Command event artifact multipart upload completion
        required: false
      responses:
        204:
          description: The upload has been completed
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The project doesn't exist
      summary: It completes a multi-part upload.
      tags: []
  /api/runs/{run_id}/complete_artifacts_uploads:
    put:
      callbacks: {}
      description: Given a command event, it marks all artifact uploads as finished and does extra processing of a given command run, such as test flakiness detection.
      operationId: completeAnalyticsArtifactsUploads
      parameters:
        - description: The id of the command event.
          in: path
          name: run_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                modules:
                  description: A list of modules with their metadata.
                  items:
                    $ref: '#/components/schemas/Module'
                  type: array
              required:
                - modules
              type: object
        description: Extra metadata for the post-processing of a command event.
        required: false
      responses:
        204:
          description: The command event artifact uploads were successfully finished
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The command event doesn't exist
      summary: Completes artifacts uploads for a given command event
      tags: []
  /api/runs/{run_id}/generate-url:
    post:
      callbacks: {}
      description: Given an upload ID and a part number, this endpoint returns a signed URL that can be used to upload a part of a multipart upload. The URL is short-lived and expires in 120 seconds.
      operationId: generateAnalyticsArtifactMultipartUploadURL
      parameters:
        - description: The id of the command event.
          in: path
          name: run_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              properties:
                command_event_artifact:
                  $ref: '#/components/schemas/CommandEventArtifact'
                multipart_upload_part:
                  $ref: '#/components/schemas/ArtifactMultipartUploadPart'
              required:
                - command_event_artifact
                - multipart_upload_part
              type: object
        description: Artifact to generate a signed URL for
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArtifactMultipartUploadURL'
          description: The URL has been generated
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The project doesn't exist
      summary: It generates a signed URL for uploading a part.
      tags: []
  /api/runs/{run_id}/start:
    post:
      callbacks: {}
      description: The endpoint returns an upload ID that can be used to generate URLs for the individual parts and complete the upload.
      operationId: startAnalyticsArtifactMultipartUpload
      parameters:
        - description: The id of the command event.
          in: path
          name: run_id
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommandEventArtifact'
        description: Artifact to upload
        required: false
      responses:
        200:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ArtifactUploadID'
          description: The upload has been started
        401:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: You need to be authenticated to access this resource
        403:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The authenticated subject is not authorized to perform this action
        404:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: The command event doesn't exist
      summary: It initiates a multipart upload for a command event artifact.
      tags: []
security:
  - authorization: []
servers:
  - url: http://localhost:8080
    variables: {}
tags: []

import Basic
import Foundation

@testable import TuistCore

public extension XCFrameworkNode {
    static func test(path: AbsolutePath = "/MyFramework.xcframework") -> XCFrameworkNode {
        let libraries: [XCFrameworkInfoPlist.Library] = [
            .init(identifier: "ios-x86_64-simulator",
                  path: RelativePath("MyFramework.framework"), architectures: [.x8664]),
            .init(identifier: "ios-arm64",
                  path: RelativePath("MyFramework.framework"),
                  architectures: [.arm64]),
        ]
        
        let primaryBinaryPath = path.appending(RelativePath("ios-arm64/MyFramework.framework/MyFramework"))
        return XCFrameworkNode(path: path,
                        libraries: libraries,
                        primaryBinaryPath: primaryBinaryPath)
    }
}
